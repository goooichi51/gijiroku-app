# 議事録作成アプリ「gijiroku_app_v1」 - 競合調査・要件定義

## Context

音声録音→AI文字起こし・要約による議事録作成iOSアプリを開発する。Apple Watch対応（録音開始/停止）、個人・法人両対応、サブスクリプションモデル。本ドキュメントでは競合調査結果と要件定義をまとめる。

---

## 1. 競合調査

### 1-1. 主要競合マップ

| アプリ | 日本語 | Watch | 話者識別 | AI要約 | 月額目安 | ターゲット |
|--------|:------:|:-----:|:--------:|:------:|----------|:----------:|
| **Notta** | ◎ | ◯ | ◯ | ◯ | ¥1,185〜 | 両方 |
| **Texter** | ◎ | ◯ | △ | ◯ | ¥1,500 | 個人 |
| **Genspark** | ◯ | ◯ | ◯ | ◯ | $24.99〜 | 両方 |
| **LINE WORKS AiNote** | ◎ | ✕ | ◯ | ◯ | ¥1,440〜 | 両方 |
| **Otter.ai** | ✕ | ✕ | ◯ | ◯ | $8.33〜 | 両方 |
| **Fireflies.ai** | △ | ✕ | ◯ | ◯ | $10〜 | 法人 |
| **tl;dv** | △ | ✕ | ◯ | ◯ | $18〜 | 法人 |

### 1-2. Apple Watch対応の現状

Apple Watch対応で**AI文字起こし+要約**まで備えたアプリは極めて少ない：
- **Notta**: Watch録音+文字起こし対応。最も近い競合
- **Texter**: Watch録音対応だが、話者識別が弱く法人向け機能不足
- **Genspark**: 世界初Watch AI議事録を謳うが、2025年8月リリースで実績浅い。Pro価格が$249.99/月と高額
- **Just Press Record**: Watch対応の老舗だが、AI要約・話者識別なし（買い切り700円）

### 1-3. 市場機会

1. **「日本語高精度 + Apple Watch + AI要約 + 話者識別」の4点セットを揃えたアプリが存在しない**
2. AI GIJIROKU（2025年10月サービス終了）のユーザーの受け皿が必要
3. 海外勢（Otter.ai, Fireflies, tl;dv）は日本語精度に明確な課題あり
4. Nottaの無料枠は月120分・1回3分と制限的 → 無料枠の設計次第で差別化可能
5. Gensparkは高価格帯（Pro $249.99/月）→ 手頃な価格帯にチャンス

---

## 2. 技術調査サマリー

### 2-1. 文字起こし: ローカル処理（Apple SpeechAnalyzer）

**Apple SpeechAnalyzer**（iOS 26〜）を使用し、文字起こしをオンデバイスで完結させる。Apple純正のボイスメモと同じ技術。

| 項目 | 内容 |
|------|------|
| 技術 | SpeechAnalyzer / SpeechTranscriber（Apple純正、iOS 26〜） |
| 日本語精度 | ja_JP対応。Apple純正ボイスメモ・メモアプリと同等の品質 |
| 話者識別 | SpeechAnalyzer単体では非対応。MVP後に別途対応検討 |
| リアルタイム | **対応**。AsyncStreamによるストリーミング認識 |
| 処理速度 | リアルタイムの約70倍速（バッチ処理時） |
| モデルサイズ | **0バイト**（OSに内蔵、アプリへの追加ダウンロード不要） |
| 動作要件 | iOS 26以降、iPhone 11以降 |
| コスト | **無料**（APIコール不要） |
| プライバシー | **音声データが端末外に一切出ない**（完全オンデバイス） |
| 時間制限 | **なし**（SFSpeechRecognizerの1分制限が撤廃） |

**メリット**: ランニングコスト0、追加ダウンロード不要（アプリサイズ増加0）、完全オフライン、リアルタイム対応、Apple純正品質
**デメリット**: iOS 26以降が必須、カスタム語彙未対応、日本語の具体的なWERデータは未公開

### 2-2. AI要約: Gemini 3 Flash API（Google）

| 項目 | 内容 |
|------|------|
| テキスト入力 | **$0.50 / 100万トークン** |
| テキスト出力 | **$3.00 / 100万トークン** |
| **1時間の会議要約コスト** | **約3円** |
| 日本語品質 | 実用レベル。構造化された議事録出力に対応 |
| 処理速度 | 高速（Flash系モデル） |
| コンテキスト | 長時間会議にも対応 |

**文字起こし（ローカル: 0円）+ 要約（Gemini 3 Flash: 約3円）= 1時間あたり約3円**

### 2-3. バックエンドの役割（Supabase）

バックエンドは以下の目的で必要：

| 用途 | 説明 |
|------|------|
| **ユーザー認証** | アカウント登録・ログイン（Apple ID / メール） |
| **議事録データの同期** | テキストデータをクラウドに保存し、機種変更・複数端末で利用可能に |
| **サブスク管理** | 課金ステータスの管理・検証 |
| **API Key保護** | Gemini 3 Flash APIキーをサーバー側に置き、アプリに直接埋め込まない |
| **将来のチーム共有** | v2.0でチーム機能を追加する際の基盤 |

※ 音声データ自体はクラウドに送信しない（ローカル処理のため）。送信するのは文字起こし済みテキストと議事録データのみ。

### 2-4. Apple Watch技術制約

- Watch上ではAI処理は困難 → **録音のみ、処理はiPhoneで行う**
- バックグラウンド録音: `UIBackgroundModes`に`audio`追加 + Extended Runtime Session活用
- 録音形式: MPEG4AAC (m4a)、44100Hz、1ch
- ファイル転送: `WCSession.transferFile`でiPhoneに送信
- 実質的な録音時間制限: バッテリーとストレージ依存（2時間以上の実績あり）
- watchOS 11以降: ダブルタップジェスチャーで録音開始対応可能

### 2-5. 推奨技術スタック（確定）

| レイヤー | 技術 | 理由 |
|----------|------|------|
| 文字起こし | **Apple SpeechAnalyzer**（ローカル） | コスト0、追加DL不要、Apple純正品質、リアルタイム対応 |
| 話者識別 | MVP後に対応検討 | SpeechAnalyzer単体では非対応 |
| AI要約 | **Gemini 3 Flash API** | 約3円/時間、日本語対応、Google製で安定性高い |
| バックエンド | **Supabase** | 認証・データ同期・APIキー保護 |
| Apple Watch連携 | **WCSession (transferFile)** | 標準的な実装パターン |
| アプリ | **Swift / SwiftUI** | ネイティブiOS + watchOS |

---

## 3. 要件定義

### 3-1. アプリ概要

| 項目 | 内容 |
|------|------|
| アプリ名 | （未定） |
| プラットフォーム | iOS + watchOS |
| ターゲット | 個人・法人（ビジネスパーソン全般） |
| コア価値 | 会議を録音するだけで、高精度な議事録が自動生成される |
| 収益モデル | サブスクリプション（月額/年額） |

### 3-2. 機能要件

#### MVP（v1.0）

| # | 機能 | 詳細 | 優先度 |
|---|------|------|:------:|
| F1 | 音声録音 | iPhone内蔵マイクで会議音声を録音 | P0 |
| F2 | Apple Watch録音 | Watchから録音開始/停止、iPhoneに自動転送 | P0 |
| F3 | AI文字起こし（ローカル） | Apple SpeechAnalyzerでオンデバイス文字起こし（日本語対応、追加DL不要） | P0 |
| F4 | 話者識別 | MVP後に対応検討（SpeechAnalyzer単体では非対応） | P2 |
| F5 | AI議事録要約 | Gemini 3 Flashで文字起こし→議事録自動生成（要点・決定事項・アクションアイテム） | P0 |
| F6 | **議事録テンプレート選択** | 複数のフォーマットから選択可能（下記参照） | P0 |
| F7 | **会議メタ情報の入力** | 日時・場所・参加者・会議タイトルを手動入力/編集可能 | P0 |
| F8 | 議事録一覧・検索 | 過去の議事録を一覧表示、全文検索 | P0 |
| F9 | 議事録編集 | AI生成された議事録を手動で編集・修正 | P0 |
| F10 | **A4 PDFエクスポート** | A4フォーマットのPDFでダウンロード | P0 |
| F11 | **共有機能** | LINE・メール・AirDrop等でPDFを共有（iOS標準の共有シート利用） | P0 |
| F12 | リアルタイムプレビュー | 録音中にリアルタイムで文字起こし表示 | P1 |
| F13 | ユーザー認証 | Apple IDログイン / メール登録 | P0 |

#### 議事録テンプレート（F6）

| テンプレート名 | 内容 | 用途 |
|---------------|------|------|
| **標準** | 日時/場所/参加者/議題/議論内容/決定事項/アクションアイテム | 一般的な社内会議 |
| **簡易メモ** | 日時/参加者/要点まとめ/次回アクション | 1on1・カジュアルな打ち合わせ |
| **商談・営業** | 日時/顧客名/参加者/ヒアリング内容/提案事項/次回アクション/フォローアップ期限 | 顧客との商談 |
| **ブレスト** | 日時/参加者/テーマ/アイデア一覧/評価・優先度/ネクストステップ | アイデア出し会議 |

#### v2.0（将来）

| # | 機能 | 詳細 |
|---|------|------|
| F14 | チーム共有 | 議事録をチームメンバーとアプリ内で共有 |
| F15 | Slack/Teams連携 | 議事録を自動投稿 |
| F16 | カレンダー連携 | 会議予定と議事録を紐付け |
| F17 | カスタムテンプレート | ユーザーが独自の議事録フォーマットを作成 |
| F18 | 多言語対応 | 英語等の文字起こし・翻訳 |
| F19 | Web会議連携 | Zoom/Meet/Teamsの音声を直接取り込み |

### 3-3. 非機能要件

| 項目 | 要件 |
|------|------|
| 対応OS | iOS 26以降（SpeechAnalyzer要件）、watchOS 13以降 |
| 推奨端末 | iPhone 11以降 |
| 日本語精度 | 95%以上（静かな環境） |
| 録音時間 | 最大4時間/回（iPhone・Watch共通）。Watch録音は30分ごとに継続確認を表示し、5分間応答なしで自動停止 |
| 文字起こし | リアルタイム（録音と同時にオンデバイスで処理） |
| AI要約遅延 | 文字起こし完了後30秒以内 |
| データ保存 | テキストデータのみクラウド同期（Supabase）。音声はローカル保存 |
| セキュリティ | 音声データはデバイス外に出さない。テキストのみ暗号化通信でAPI/クラウドに送信 |
| 可用性 | 録音・文字起こしは完全オフライン。AI要約・クラウド同期はオンライン必要 |

### 3-4. 料金プラン案（改定版）

ローカル処理により文字起こしコストが0円になったため、大幅に価格を下げられる。

| プラン | 月額 | 年額 | 内容 |
|--------|------|------|------|
| **Free** | ¥0 | - | 月5回・1回30分まで、AI要約なし（文字起こしのみ）、テンプレート「簡易メモ」のみ |
| **Standard** | ¥480 | ¥4,800 | 無制限録音・文字起こし、AI要約あり、全テンプレート、PDF出力、話者識別 |
| **Team**（v2.0） | ¥480/人 | ¥4,800/人 | Standard全機能+チーム共有・管理機能 |

**価格設定の根拠:**
- 文字起こしコスト: **0円**（ローカル処理）
- AI要約コスト: **約3円/時間**（Gemini 3 Flash）
- Standardプランで月20時間利用した場合の原価: 約60円 → **粗利率85%**
- ¥480/月は競合（Notta ¥1,185、Texter ¥1,500）の**約1/3〜1/2**の価格で強力な差別化
- Free枠は月5回・1回30分と実用的（Nottaの1回3分より大幅に余裕）

### 3-5. 画面構成（概要）

```
[iPhone]
├── ホーム（議事録一覧 + 新規録音ボタン）
├── 録音画面
│   ├── リアルタイム文字起こしプレビュー
│   ├── 録音時間・波形表示
│   └── 一時停止/停止ボタン
├── 議事録作成画面（録音完了後）
│   ├── テンプレート選択
│   ├── 会議メタ情報入力（日時/場所/参加者/タイトル）
│   ├── AI要約生成ボタン
│   └── 文字起こし全文表示
├── 議事録詳細・編集
│   ├── 要約表示・編集
│   ├── 話者別発言表示
│   ├── PDFプレビュー
│   └── 共有ボタン（LINE/メール/AirDrop等）
├── 検索
├── 設定
│   ├── アカウント
│   ├── プラン管理
│   ├── デフォルトテンプレート設定
└── オンボーディング

[Apple Watch]
├── 録音ボタン（開始/停止）
├── 録音中ステータス表示（経過時間・波形）
└── 最近の議事録リスト（タイトルのみ）
```

---

## 4. 差別化戦略

### コアの差別化ポイント

1. **「日本語特化 × Apple Watch × AI要約」の唯一の組み合わせ** - 現時点でこの3要素を高品質に備えたアプリは存在しない
2. **圧倒的な低価格** - Standard ¥480/月は競合の1/3以下。API原価は月20時間利用でわずか約7円
3. **プライバシー** - 音声データが端末外に一切出ない（競合はクラウド送信が必須）
4. **シンプルなUX** - 「録音→テンプレート選択→AI生成→PDF共有」の4ステップ
5. **充実した無料枠** - 月5回・1回30分まで無料（Nottaの1回3分制限より大幅に実用的）
6. **議事録テンプレート** - 用途別フォーマットでプロフェッショナルなPDF出力

---

## 5. リスクと対策

| リスク | 影響 | 対策 |
|--------|------|------|
| iOS 26未満のユーザーが使えない | 中 | 対応OSの明記。iOS 26はiPhone 11以降対応のため影響は限定的 |
| Gemini 3 Flash APIの料金変更・サービス停止 | 低 | 原価が低いため吸収可能。代替LLM（GPT-4o mini等）に差し替え可能 |
| 騒がしい環境での精度低下 | 中 | ノイズ除去前処理の追加、精度改善のTips表示 |
| Apple Watchのバッテリー制約 | 中 | 録音時間の目安をUIで表示、省電力設計 |
| App Store審査リジェクト | 中 | 録音に関するプライバシーポリシー整備、マイク権限の適切な説明 |

---

## 6. 次のステップ

本フォルダでの作業（コーディングなし）：
1. ~~競合調査~~ ✅
2. ~~要件定義~~ ✅
3. ~~UI/UXデザイン（ワイヤーフレーム仕様書作成）~~ ✅ → `docs/ui-wireframe-spec.md`
4. ~~技術検証計画（SpeechAnalyzer PoC計画書）~~ ✅ → `docs/poc-plan.md`
5. ~~事業計画（収支シミュレーション）~~ ✅ → `docs/business-plan.md`

開発フェーズ（別プロジェクト）：
- Swift/SwiftUI + watchOSアプリ開発
- Supabase構築（認証・データ同期）
- Apple SpeechAnalyzer統合
- Gemini 3 Flash API連携
- PDF生成・共有機能実装
